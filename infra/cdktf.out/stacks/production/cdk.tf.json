{
  "//": {
    "metadata": {
      "backend": "remote",
      "cloud": "tfc",
      "stackName": "production",
      "version": "0.15.5"
    },
    "outputs": {
    }
  },
  "provider": {
    "google": [
      {
        "project": "${var.project_id}"
      }
    ]
  },
  "resource": {
    "google_bigquery_dataset": {
      "BigqueryDataset_switchbot_this_6E5373C6": {
        "//": {
          "metadata": {
            "path": "production/BigqueryDataset_switchbot/this",
            "uniqueId": "BigqueryDataset_switchbot_this_6E5373C6"
          }
        },
        "dataset_id": "switchbot",
        "location": "asia-northeast1"
      }
    },
    "google_bigquery_table": {
      "BigqueryTable_switchbot_metrics_this_E24D74F2": {
        "//": {
          "metadata": {
            "path": "production/BigqueryTable_switchbot_metrics/this",
            "uniqueId": "BigqueryTable_switchbot_metrics_this_E24D74F2"
          }
        },
        "dataset_id": "switchbot",
        "schema": "[{\"mode\":\"NULLABLE\",\"name\":\"Time\",\"type\":\"TIMESTAMP\"},{\"mode\":\"NULLABLE\",\"name\":\"DeviceId\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"Type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"Value\",\"type\":\"FLOAT\"}]",
        "table_id": "metrics",
        "time_partitioning": {
          "field": "Time",
          "type": "DAY"
        }
      }
    },
    "google_cloud_run_service_iam_binding": {
      "CloudFunctionGo_recorder_unauth-bind_30D4F04C": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_recorder/unauth-bind",
            "uniqueId": "CloudFunctionGo_recorder_unauth-bind_30D4F04C"
          }
        },
        "location": "${google_cloudfunctions2_function.CloudFunctionGo_recorder_this_B8F0AECA.location}",
        "members": [
          "allUsers"
        ],
        "role": "roles/run.invoker",
        "service": "${google_cloudfunctions2_function.CloudFunctionGo_recorder_this_B8F0AECA.name}"
      },
      "CloudFunctionGo_viewer_unauth-bind_3CF80BD4": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_viewer/unauth-bind",
            "uniqueId": "CloudFunctionGo_viewer_unauth-bind_3CF80BD4"
          }
        },
        "location": "${google_cloudfunctions2_function.CloudFunctionGo_viewer_this_CC90E72A.location}",
        "members": [
          "allUsers"
        ],
        "role": "roles/run.invoker",
        "service": "${google_cloudfunctions2_function.CloudFunctionGo_viewer_this_CC90E72A.name}"
      }
    },
    "google_cloudfunctions2_function": {
      "CloudFunctionGo_recorder_this_B8F0AECA": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_recorder/this",
            "uniqueId": "CloudFunctionGo_recorder_this_B8F0AECA"
          }
        },
        "build_config": {
          "entry_point": "HandleFunc",
          "runtime": "go120",
          "source": {
            "storage_source": {
              "bucket": "${google_storage_bucket.CloudFunctionGo_recorder_source-bucket_7302135A.name}",
              "object": "${google_storage_bucket_object.CloudFunctionGo_recorder_source-object_FD2F1D6E.name}"
            }
          }
        },
        "location": "asia-northeast1",
        "name": "recorder",
        "service_config": {
          "available_memory": "256M",
          "environment_variables": {
            "PROJECT_ID": "${var.project_id}"
          },
          "max_instance_count": 1,
          "secret_environment_variables": [
            {
              "key": "AUTH_PATH",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_recorder_auth_path_this_AF01DA0C.secret_id}",
              "version": "latest"
            },
            {
              "key": "SWITCHBOT_TOKEN",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_switchbot_token_this_8375C458.secret_id}",
              "version": "latest"
            },
            {
              "key": "SWITCHBOT_SECRET",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_switchbot_secret_this_B83FAFFD.secret_id}",
              "version": "latest"
            }
          ],
          "service_account_email": "${google_service_account.ServiceAccount_recorder_account_9B1DEACA.email}",
          "timeout_seconds": 60
        }
      },
      "CloudFunctionGo_viewer_this_CC90E72A": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_viewer/this",
            "uniqueId": "CloudFunctionGo_viewer_this_CC90E72A"
          }
        },
        "build_config": {
          "entry_point": "HandleFunc",
          "runtime": "go120",
          "source": {
            "storage_source": {
              "bucket": "${google_storage_bucket.CloudFunctionGo_viewer_source-bucket_9647E78F.name}",
              "object": "${google_storage_bucket_object.CloudFunctionGo_viewer_source-object_EE3D3F6C.name}"
            }
          }
        },
        "location": "asia-northeast1",
        "name": "viewer",
        "service_config": {
          "available_memory": "256M",
          "environment_variables": {
            "PROJECT_ID": "${var.project_id}"
          },
          "max_instance_count": 1,
          "secret_environment_variables": [
            {
              "key": "AUTH_PATH",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_viewer_auth_path_this_D359F2B0.secret_id}",
              "version": "latest"
            },
            {
              "key": "SWITCHBOT_TOKEN",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_switchbot_token_this_8375C458.secret_id}",
              "version": "latest"
            },
            {
              "key": "SWITCHBOT_SECRET",
              "project_id": "${var.project_id}",
              "secret": "${google_secret_manager_secret.Secret_switchbot_secret_this_B83FAFFD.secret_id}",
              "version": "latest"
            }
          ],
          "service_account_email": "${google_service_account.ServiceAccount_viewer_account_AD402100.email}",
          "timeout_seconds": 60
        }
      }
    },
    "google_project_iam_custom_role": {
      "ServiceAccount_recorder_role_7EC07519": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_recorder/role",
            "uniqueId": "ServiceAccount_recorder_role_7EC07519"
          }
        },
        "permissions": [
          "bigquery.datasets.get",
          "bigquery.datasets.getIamPolicy",
          "bigquery.tables.get",
          "bigquery.tables.updateData",
          "secretmanager.versions.access"
        ],
        "role_id": "recorder",
        "title": "recorder"
      },
      "ServiceAccount_viewer_role_C11CE5A4": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_viewer/role",
            "uniqueId": "ServiceAccount_viewer_role_C11CE5A4"
          }
        },
        "permissions": [
          "bigquery.jobs.create",
          "bigquery.tables.getData",
          "secretmanager.versions.access"
        ],
        "role_id": "viewer",
        "title": "viewer"
      }
    },
    "google_project_iam_member": {
      "ServiceAccount_recorder_member_76DAACA1": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_recorder/member",
            "uniqueId": "ServiceAccount_recorder_member_76DAACA1"
          }
        },
        "member": "serviceAccount:${google_service_account.ServiceAccount_recorder_account_9B1DEACA.email}",
        "project": "${var.project_id}",
        "role": "${google_project_iam_custom_role.ServiceAccount_recorder_role_7EC07519.name}"
      },
      "ServiceAccount_viewer_member_302C3BCD": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_viewer/member",
            "uniqueId": "ServiceAccount_viewer_member_302C3BCD"
          }
        },
        "member": "serviceAccount:${google_service_account.ServiceAccount_viewer_account_AD402100.email}",
        "project": "${var.project_id}",
        "role": "${google_project_iam_custom_role.ServiceAccount_viewer_role_C11CE5A4.name}"
      }
    },
    "google_secret_manager_secret": {
      "Secret_recorder_auth_path_this_AF01DA0C": {
        "//": {
          "metadata": {
            "path": "production/Secret_recorder_auth_path/this",
            "uniqueId": "Secret_recorder_auth_path_this_AF01DA0C"
          }
        },
        "replication": {
          "automatic": true
        },
        "secret_id": "recorder_auth_path"
      },
      "Secret_switchbot_secret_this_B83FAFFD": {
        "//": {
          "metadata": {
            "path": "production/Secret_switchbot_secret/this",
            "uniqueId": "Secret_switchbot_secret_this_B83FAFFD"
          }
        },
        "replication": {
          "automatic": true
        },
        "secret_id": "switchbot_secret"
      },
      "Secret_switchbot_token_this_8375C458": {
        "//": {
          "metadata": {
            "path": "production/Secret_switchbot_token/this",
            "uniqueId": "Secret_switchbot_token_this_8375C458"
          }
        },
        "replication": {
          "automatic": true
        },
        "secret_id": "switchbot_token"
      },
      "Secret_viewer_auth_path_this_D359F2B0": {
        "//": {
          "metadata": {
            "path": "production/Secret_viewer_auth_path/this",
            "uniqueId": "Secret_viewer_auth_path_this_D359F2B0"
          }
        },
        "replication": {
          "automatic": true
        },
        "secret_id": "viewer_auth_path"
      }
    },
    "google_service_account": {
      "ServiceAccount_recorder_account_9B1DEACA": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_recorder/account",
            "uniqueId": "ServiceAccount_recorder_account_9B1DEACA"
          }
        },
        "account_id": "recorder",
        "display_name": "recorder"
      },
      "ServiceAccount_viewer_account_AD402100": {
        "//": {
          "metadata": {
            "path": "production/ServiceAccount_viewer/account",
            "uniqueId": "ServiceAccount_viewer_account_AD402100"
          }
        },
        "account_id": "viewer",
        "display_name": "viewer"
      }
    },
    "google_storage_bucket": {
      "CloudFunctionGo_recorder_source-bucket_7302135A": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_recorder/source-bucket",
            "uniqueId": "CloudFunctionGo_recorder_source-bucket_7302135A"
          }
        },
        "location": "asia-northeast1",
        "name": "switchbot-logger-production-cfsource-recorder"
      },
      "CloudFunctionGo_viewer_source-bucket_9647E78F": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_viewer/source-bucket",
            "uniqueId": "CloudFunctionGo_viewer_source-bucket_9647E78F"
          }
        },
        "location": "asia-northeast1",
        "name": "switchbot-logger-production-cfsource-viewer"
      }
    },
    "google_storage_bucket_object": {
      "CloudFunctionGo_recorder_source-object_FD2F1D6E": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_recorder/source-object",
            "uniqueId": "CloudFunctionGo_recorder_source-object_FD2F1D6E"
          }
        },
        "bucket": "${google_storage_bucket.CloudFunctionGo_recorder_source-bucket_7302135A.name}",
        "name": "9FA5F3A1FF8E727ADBABE9AB0E8FD8C6.zip",
        "source": "assets/CloudFunctionGo_recorder_zip_2313AB52/9FA5F3A1FF8E727ADBABE9AB0E8FD8C6/archive.zip"
      },
      "CloudFunctionGo_viewer_source-object_EE3D3F6C": {
        "//": {
          "metadata": {
            "path": "production/CloudFunctionGo_viewer/source-object",
            "uniqueId": "CloudFunctionGo_viewer_source-object_EE3D3F6C"
          }
        },
        "bucket": "${google_storage_bucket.CloudFunctionGo_viewer_source-bucket_9647E78F.name}",
        "name": "783C548FDF2617E388CB6ECD4D0EA5DD.zip",
        "source": "assets/CloudFunctionGo_viewer_zip_C1EBC29A/783C548FDF2617E388CB6ECD4D0EA5DD/archive.zip"
      }
    }
  },
  "terraform": {
    "backend": {
      "remote": {
        "hostname": "app.terraform.io",
        "organization": "${var.tf_organization}",
        "workspaces": {
          "name": "switchbot-logger_production"
        }
      }
    },
    "required_providers": {
      "google": {
        "source": "google",
        "version": "4.62.0"
      }
    }
  },
  "variable": {
    "project_id": {
      "type": "string"
    },
    "tf_organization": {
      "type": "string"
    }
  }
}